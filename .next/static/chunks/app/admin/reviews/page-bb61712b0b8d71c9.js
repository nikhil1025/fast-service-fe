(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[687],{4946:function(e,t,s){Promise.resolve().then(s.bind(s,8728))},9763:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var r=s(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let s=(0,r.forwardRef)((s,i)=>{let{color:c="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:d="",children:h,...g}=s;return(0,r.createElement)("svg",{ref:i,...a,width:o,height:o,stroke:c,strokeWidth:u?24*Number(l)/Number(o):l,className:["lucide","lucide-".concat(n(e)),d].join(" "),...g},[...t.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(h)?h:[h]])});return s.displayName="".concat(e),s}},2208:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3247:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},6595:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},8930:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},8728:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var r=s(7437),a=s(2265),n=s(6595),i=s(3247),c=s(2208),o=s(8930),l=s(1837);function u(){let[e,t]=(0,a.useState)([]),[s,u]=(0,a.useState)(!0),[d,h]=(0,a.useState)(""),[g,y]=(0,a.useState)("all"),[m,v]=(0,a.useState)({});(0,a.useEffect)(()=>{x()},[]);let x=async()=>{try{u(!0);let e=await l.h.getReviews();t(e)}catch(e){console.error("Failed to fetch reviews:",e)}finally{u(!1)}},p=async e=>{if(confirm("Are you sure you want to delete this review?"))try{v(t=>({...t,[e]:!0})),await l.h.deleteReview(e),await x()}catch(e){console.error("Failed to delete review:",e),alert("Failed to delete review")}finally{v(t=>({...t,[e]:!1}))}},f=e.filter(e=>{let t=e.comment.toLowerCase().includes(d.toLowerCase())||e.user.name.toLowerCase().includes(d.toLowerCase())||e.service.title.toLowerCase().includes(d.toLowerCase()),s="all"===g||e.rating.toString()===g;return t&&s}),b=e=>[void 0,void 0,void 0,void 0,void 0].map((t,s)=>(0,r.jsx)(n.Z,{size:16,className:s<e?"text-yellow-400":"text-gray-300",fill:s<e?"currentColor":"none"},s));return s?(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsx)("div",{className:"h-10 bg-gray-200 rounded"})}),(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsx)("div",{className:"p-6",children:(0,r.jsx)("div",{className:"h-20 bg-gray-200 rounded"})},t))})]})]}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Reviews"}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["Total: ",e.length]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 relative",children:[(0,r.jsx)(i.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),(0,r.jsx)("input",{type:"text",placeholder:"Search reviews...",value:d,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary/50 focus:border-primary"})]}),(0,r.jsxs)("select",{value:g,onChange:e=>y(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary/50 focus:border-primary",children:[(0,r.jsx)("option",{value:"all",children:"All Ratings"}),(0,r.jsx)("option",{value:"5",children:"5 Stars"}),(0,r.jsx)("option",{value:"4",children:"4 Stars"}),(0,r.jsx)("option",{value:"3",children:"3 Stars"}),(0,r.jsx)("option",{value:"2",children:"2 Stars"}),(0,r.jsx)("option",{value:"1",children:"1 Star"})]})]})}),(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:f.map(e=>(0,r.jsx)("div",{className:"p-6 hover:bg-gray-50",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,r.jsx)("div",{className:"flex items-center gap-1",children:b(e.rating)}),(0,r.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[e.rating,"/5"]})]}),(0,r.jsx)("p",{className:"text-gray-900 mb-3",children:e.comment}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,r.jsxs)("span",{children:["By: ",e.user.name]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{children:["Service: ",e.service.title]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString()})]})]}),(0,r.jsxs)("div",{className:"ml-4 flex items-center gap-2",children:[(0,r.jsx)("button",{className:"text-gray-600 hover:text-primary",children:(0,r.jsx)(c.Z,{size:16})}),(0,r.jsx)("button",{onClick:()=>p(e.id),disabled:m[e.id],className:"text-gray-600 hover:text-red-600 disabled:opacity-50",children:(0,r.jsx)(o.Z,{size:16})})]})]})},e.id))}),0===f.length&&(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500",children:"No reviews found"})})]})]})}},1837:function(e,t,s){"use strict";s.d(t,{I:function(){return n},h:function(){return a}});class r{setToken(e){this.token=e,localStorage.setItem("auth_token",e)}removeToken(){this.token=null,localStorage.removeItem("auth_token")}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="".concat(this.baseURL).concat(e),r={"Content-Type":"application/json",...t.headers};this.token&&(r.Authorization="Bearer ".concat(this.token));let a=await fetch(s,{...t,headers:r});if(!a.ok)throw Error((await a.json().catch(()=>({message:"An error occurred"}))).message||"HTTP ".concat(a.status));return a.json()}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify(e)})}async login(e){return this.request("/auth/login",{method:"POST",body:JSON.stringify(e)})}async getProfile(){return this.request("/auth/profile",{method:"POST"})}async getUsers(){return this.request("/users")}async updateUser(e,t){return this.request("/users/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteUser(e){return this.request("/users/".concat(e),{method:"DELETE"})}async getCategories(){return this.request("/categories")}async getCategoriesHierarchy(){return this.request("/categories/hierarchy")}async getCategoryBySlug(e){return this.request("/categories/slug/".concat(e))}async createCategory(e){return this.request("/categories",{method:"POST",body:JSON.stringify(e)})}async updateCategory(e,t){return this.request("/categories/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteCategory(e){return this.request("/categories/".concat(e),{method:"DELETE"})}async seedCategories(){return this.request("/categories/seed")}async getServices(e){return this.request("/services".concat(e?"?categoryId=".concat(e):""))}async getFeaturedServices(){return this.request("/services/featured")}async getPopularServices(){return this.request("/services/popular")}async getServicesByCategory(e){return this.request("/services/category/".concat(e))}async getService(e){return this.request("/services/".concat(e))}async createService(e){return this.request("/services",{method:"POST",body:JSON.stringify(e)})}async updateService(e,t){return this.request("/services/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteService(e){return this.request("/services/".concat(e),{method:"DELETE"})}async seedServices(){return this.request("/services/seed")}async createBooking(e){return this.request("/bookings",{method:"POST",body:JSON.stringify(e)})}async getBookings(){return this.request("/bookings")}async getAllBookings(){return this.request("/bookings?all=true")}async getBooking(e){return this.request("/bookings/".concat(e))}async updateBookingStatus(e,t){return this.request("/bookings/".concat(e,"/status"),{method:"PATCH",body:JSON.stringify({status:t})})}async deleteBooking(e){return this.request("/bookings/".concat(e),{method:"DELETE"})}async getReviews(e){return this.request("/reviews".concat(e?"?serviceId=".concat(e):""))}async deleteReview(e){return this.request("/reviews/".concat(e),{method:"DELETE"})}async createContact(e){return this.request("/contact",{method:"POST",body:JSON.stringify(e)})}async getContacts(){return this.request("/contact")}async markContactAsRead(e){return this.request("/contact/".concat(e,"/read"),{method:"PATCH"})}async deleteContact(e){return this.request("/contact/".concat(e),{method:"DELETE"})}async getDashboardStats(){return this.request("/dashboard/stats")}async getDashboardActivity(){return this.request("/dashboard/activity")}async search(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[s,r]=e;null!=r&&t.append(s,r.toString())}),this.request("/search?".concat(t.toString()))}async getSearchFilters(){return this.request("/search/filters")}async getSearchSuggestions(e){return this.request("/search/suggestions?q=".concat(encodeURIComponent(e)))}async getPopularSearches(){return this.request("/search/popular")}constructor(e){this.token=null,this.baseURL=e,this.token=localStorage.getItem("auth_token")}}let a=new r("http://localhost:3001/test/api"),n={login:async(e,t)=>{let s=await a.login({email:e,password:t});return a.setToken(s.access_token),s},register:async e=>{let t=await a.register(e);return a.setToken(t.access_token),t},logout:()=>{a.removeToken()},getToken:()=>localStorage.getItem("auth_token"),isAuthenticated:()=>!!n.getToken()}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=4946)}),_N_E=e.O()}]);