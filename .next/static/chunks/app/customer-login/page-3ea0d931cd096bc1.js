(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[774],{7714:function(e,t,r){Promise.resolve().then(r.bind(r,1936))},6337:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},9090:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},9345:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});let s=(0,r(9763).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"notFound")&&r.d(t,{notFound:function(){return s.notFound}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},1936:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var s=r(7437),a=r(2265),n=r(7648),i=r(9376),o=r(9345),c=r(6337),u=r(9090),l=r(4603);function d(){let[e,t]=(0,a.useState)({email:"",password:""}),[r,d]=(0,a.useState)(!1),[h,y]=(0,a.useState)(null),{login:g}=(0,l.a)(),m=(0,i.useRouter)(),f=async t=>{t.preventDefault(),d(!0),y(null);try{await g(e.email,e.password),m.push("/")}catch(e){y(e instanceof Error?e.message:"Login failed")}finally{d(!1)}},p=e=>{let{name:r,value:s}=e.target;t(e=>({...e,[r]:s}))};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,s.jsx)("div",{className:"container-custom",children:(0,s.jsx)("div",{className:"max-w-md mx-auto",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Welcome Back"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Sign in to your account"})]}),h&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-md",children:(0,s.jsx)("p",{className:"text-red-700 text-sm",children:h})}),(0,s.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:p,disabled:r,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary/50 focus:border-primary disabled:opacity-50",required:!0}),(0,s.jsx)(o.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:p,disabled:r,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary/50 focus:border-primary disabled:opacity-50",required:!0}),(0,s.jsx)(c.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",id:"remember",className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),(0,s.jsx)("label",{htmlFor:"remember",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),(0,s.jsx)(n.default,{href:"/forgot-password",className:"text-sm text-primary hover:text-primary/80",children:"Forgot password?"})]}),(0,s.jsxs)("button",{type:"submit",disabled:r,className:"w-full bg-primary text-white py-2.5 rounded-md hover:bg-primary/90 transition duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,s.jsx)(u.Z,{size:18}),r?"Signing In...":"Sign In"]})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",(0,s.jsx)(n.default,{href:"/register",className:"text-primary hover:text-primary/80 font-medium",children:"Sign up"})]})})]})})})})}},4603:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return o},a:function(){return c}});var s=r(7437),a=r(2265),n=r(1837);let i=(0,a.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,a.useState)(null),[c,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{let e=n.I.getToken();if(e)try{n.h.setToken(e);let t=await n.h.getProfile();o(t)}catch(e){console.error("Failed to get user profile:",e),n.I.logout()}u(!1)})()},[]);let l=async(e,t)=>{try{let r=await n.I.login(e,t);o(r.user)}catch(e){throw e}},d=async e=>{try{let t=await n.I.register(e);o(t.user)}catch(e){throw e}};return(0,s.jsx)(i.Provider,{value:{user:r,loading:c,login:l,register:d,logout:()=>{n.I.logout(),o(null)},isAuthenticated:!!r},children:t})}function c(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},1837:function(e,t,r){"use strict";r.d(t,{I:function(){return n},h:function(){return a}});class s{setToken(e){this.token=e,localStorage.setItem("auth_token",e)}removeToken(){this.token=null,localStorage.removeItem("auth_token")}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="".concat(this.baseURL).concat(e),s={"Content-Type":"application/json",...t.headers};this.token&&(s.Authorization="Bearer ".concat(this.token));let a=await fetch(r,{...t,headers:s});if(!a.ok)throw Error((await a.json().catch(()=>({message:"An error occurred"}))).message||"HTTP ".concat(a.status));return a.json()}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify(e)})}async login(e){return this.request("/auth/login",{method:"POST",body:JSON.stringify(e)})}async getProfile(){return this.request("/auth/profile",{method:"POST"})}async getUsers(){return this.request("/users")}async updateUser(e,t){return this.request("/users/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteUser(e){return this.request("/users/".concat(e),{method:"DELETE"})}async getCategories(){return this.request("/categories")}async getCategoriesHierarchy(){return this.request("/categories/hierarchy")}async getCategoryBySlug(e){return this.request("/categories/slug/".concat(e))}async createCategory(e){return this.request("/categories",{method:"POST",body:JSON.stringify(e)})}async updateCategory(e,t){return this.request("/categories/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteCategory(e){return this.request("/categories/".concat(e),{method:"DELETE"})}async seedCategories(){return this.request("/categories/seed")}async getServices(e){return this.request("/services".concat(e?"?categoryId=".concat(e):""))}async getFeaturedServices(){return this.request("/services/featured")}async getPopularServices(){return this.request("/services/popular")}async getServicesByCategory(e){return this.request("/services/category/".concat(e))}async getService(e){return this.request("/services/".concat(e))}async createService(e){return this.request("/services",{method:"POST",body:JSON.stringify(e)})}async updateService(e,t){return this.request("/services/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteService(e){return this.request("/services/".concat(e),{method:"DELETE"})}async seedServices(){return this.request("/services/seed")}async createBooking(e){return this.request("/bookings",{method:"POST",body:JSON.stringify(e)})}async getBookings(){return this.request("/bookings")}async getAllBookings(){return this.request("/bookings?all=true")}async getBooking(e){return this.request("/bookings/".concat(e))}async updateBookingStatus(e,t){return this.request("/bookings/".concat(e,"/status"),{method:"PATCH",body:JSON.stringify({status:t})})}async deleteBooking(e){return this.request("/bookings/".concat(e),{method:"DELETE"})}async getReviews(e){return this.request("/reviews".concat(e?"?serviceId=".concat(e):""))}async deleteReview(e){return this.request("/reviews/".concat(e),{method:"DELETE"})}async createContact(e){return this.request("/contact",{method:"POST",body:JSON.stringify(e)})}async getContacts(){return this.request("/contact")}async markContactAsRead(e){return this.request("/contact/".concat(e,"/read"),{method:"PATCH"})}async deleteContact(e){return this.request("/contact/".concat(e),{method:"DELETE"})}async getDashboardStats(){return this.request("/dashboard/stats")}async getDashboardActivity(){return this.request("/dashboard/activity")}async search(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[r,s]=e;null!=s&&t.append(r,s.toString())}),this.request("/search?".concat(t.toString()))}async getSearchFilters(){return this.request("/search/filters")}async getSearchSuggestions(e){return this.request("/search/suggestions?q=".concat(encodeURIComponent(e)))}async getPopularSearches(){return this.request("/search/popular")}constructor(e){this.token=null,this.baseURL=e,this.token=localStorage.getItem("auth_token")}}let a=new s("http://localhost:3001/test/api"),n={login:async(e,t)=>{let r=await a.login({email:e,password:t});return a.setToken(r.access_token),r},register:async e=>{let t=await a.register(e);return a.setToken(t.access_token),t},logout:()=>{a.removeToken()},getToken:()=>localStorage.getItem("auth_token"),isAuthenticated:()=>!!n.getToken()}}},function(e){e.O(0,[451,971,117,744],function(){return e(e.s=7714)}),_N_E=e.O()}]);