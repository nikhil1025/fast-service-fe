(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8662:function(e,t,s){Promise.resolve().then(s.t.bind(s,6783,23)),Promise.resolve().then(s.t.bind(s,2972,23)),Promise.resolve().then(s.t.bind(s,2778,23)),Promise.resolve().then(s.bind(s,3116)),Promise.resolve().then(s.bind(s,4603))},875:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},407:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},7692:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},3041:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},2369:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2489:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3116:function(e,t,s){"use strict";s.d(t,{default:function(){return v}});var r=s(7437),n=s(2265),i=s(7648),a=s(875),c=s(3041),o=s(2369),l=s(7692),u=s(9763);let d=(0,u.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var h=e=>{let{categories:t}=e,s=t.filter(e=>!e.parentId),n=Math.min(4,s.length),a=Math.ceil(s.length/n),c=[];for(let e=0;e<n;e++){let t=e*a,r=t+a;c.push(s.slice(t,r))}return(0,r.jsx)("div",{className:"mega-menu fixed left-12 -translate-x-1/2 mt-2 w-[90vw] max-w-7xl bg-white shadow-menu rounded-md overflow-hidden",children:(0,r.jsx)("div",{className:"container-custom grid gap-6 py-6",style:{gridTemplateColumns:"repeat(".concat(n,", 1fr)")},children:c.map((e,t)=>(0,r.jsx)("div",{className:"flex flex-col",children:e.map(e=>(0,r.jsxs)("div",{className:"mb-6 last:mb-0 pb-6 border-b border-gray-200 last:border-b-0",children:[(0,r.jsx)(i.default,{href:"/services/category/".concat(e.slug),className:"text-primary font-semibold text-lg mb-3 block hover:text-primary/80 transition-colors",children:e.name}),e.children&&e.children.length>0&&(0,r.jsx)("ul",{className:"space-y-2",children:e.children.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)(i.default,{href:"/services/category/".concat(e.slug),className:"text-gray-700 hover:text-primary block transition duration-150 text-sm",children:e.name})},e.id))})]},e.id))},t))})})},m=s(2489),g=s(407);let x=(0,u.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var y=s(4603);function f(e){var t;let{isOpen:s,onClose:a,categories:c}=e,[o,l]=(0,n.useState)(null),{user:u,logout:d,isAuthenticated:h}=(0,y.a)(),f=c.filter(e=>!e.parentId),p=e=>{e.children&&e.children.length>0?l(e):(window.location.href="/services/category/".concat(e.slug),a())};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mobile-menu-overlay fixed inset-0 bg-black/50 z-40 ".concat(s?"open":""),onClick:a}),(0,r.jsxs)("div",{className:"mobile-menu fixed top-0 right-0 h-full w-4/5 max-w-sm bg-white z-50 shadow-lg ".concat(s?"open":""),children:[(0,r.jsx)("div",{className:"flex justify-end p-4",children:(0,r.jsx)("button",{onClick:a,className:"p-2 text-gray-600 hover:text-primary focus:outline-none",children:(0,r.jsx)(m.Z,{size:24})})}),(0,r.jsx)("div",{className:"px-4 py-2",children:(0,r.jsx)("nav",{children:(0,r.jsxs)("ul",{className:"space-y-1",children:[f.map(e=>(0,r.jsx)("li",{children:(0,r.jsxs)("button",{onClick:()=>p(e),className:"flex items-center justify-between w-full px-4 py-3 text-left hover:bg-gray-100 rounded-md transition duration-150",children:[(0,r.jsx)("span",{children:e.name}),e.children&&e.children.length>0&&(0,r.jsx)(g.Z,{size:20})]})},e.id)),(0,r.jsx)("li",{children:(0,r.jsx)(i.default,{href:"/services",className:"flex items-center w-full px-4 py-3 text-left hover:bg-gray-100 rounded-md transition duration-150",onClick:a,children:"All Services"})}),(0,r.jsx)("li",{children:(0,r.jsx)(i.default,{href:"/about",className:"flex items-center w-full px-4 py-3 text-left hover:bg-gray-100 rounded-md transition duration-150",onClick:a,children:"About Us"})}),(0,r.jsx)("li",{children:(0,r.jsx)(i.default,{href:"/contact",className:"flex items-center w-full px-4 py-3 text-left hover:bg-gray-100 rounded-md transition duration-150",onClick:a,children:"Contact"})}),h&&u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("li",{className:"border-t border-gray-200 pt-2 mt-2",children:(0,r.jsxs)("div",{className:"px-4 py-2 text-sm text-gray-500",children:["Signed in as ",u.name]})}),(0,r.jsx)("li",{children:(0,r.jsx)(i.default,{href:"/profile",className:"flex items-center w-full px-4 py-3 text-left hover:bg-gray-100 rounded-md transition duration-150",onClick:a,children:"Profile"})}),(0,r.jsx)("li",{children:(0,r.jsx)(i.default,{href:"/bookings",className:"flex items-center w-full px-4 py-3 text-left hover:bg-gray-100 rounded-md transition duration-150",onClick:a,children:"My Bookings"})}),(0,r.jsx)("li",{children:(0,r.jsx)("button",{onClick:()=>{d(),a()},className:"flex items-center w-full px-4 py-3 text-left hover:bg-gray-100 rounded-md transition duration-150",children:"Logout"})})]}):(0,r.jsx)("li",{children:(0,r.jsx)(i.default,{href:"/customer-login",className:"flex items-center w-full px-4 py-3 text-left hover:bg-gray-100 rounded-md transition duration-150",onClick:a,children:"Login"})})]})})})]}),o&&(0,r.jsxs)("div",{className:"secondary-menu fixed top-0 right-0 h-full w-4/5 max-w-sm bg-white z-50 shadow-lg ".concat(o?"open":""),children:[(0,r.jsx)("div",{className:"p-4 border-b",children:(0,r.jsxs)("button",{onClick:()=>{l(null)},className:"flex items-center gap-2 text-gray-700 hover:text-primary focus:outline-none",children:[(0,r.jsx)(x,{size:20}),(0,r.jsx)("span",{className:"font-semibold",children:o.name})]})}),(0,r.jsx)("div",{className:"px-4 py-2",children:(0,r.jsxs)("ul",{className:"space-y-1",children:[(0,r.jsx)("li",{children:(0,r.jsxs)(i.default,{href:"/services/category/".concat(o.slug),className:"flex items-center w-full px-4 py-3 text-left hover:bg-gray-100 rounded-md transition duration-150 font-medium text-primary",onClick:a,children:["View All ",o.name]})}),null===(t=o.children)||void 0===t?void 0:t.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)(i.default,{href:"/services/category/".concat(e.slug),className:"flex items-center w-full px-4 py-3 text-left hover:bg-gray-100 rounded-md transition duration-150",onClick:a,children:e.name})},e.id))]})})]})]})}var p=s(9458);function v(){let[e,t]=(0,n.useState)(!1),[s,u]=(0,n.useState)(!1),{user:m,logout:g,isAuthenticated:x}=(0,y.a)(),{categories:v}=(0,p.L)(),b=()=>{t(!e),e?document.body.style.overflow="auto":document.body.style.overflow="hidden"};return(0,r.jsxs)("header",{className:"sticky top-0 z-50 w-full bg-white shadow-md",children:[(0,r.jsx)("div",{className:"container-custom",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16 md:h-20",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(i.default,{href:"/",className:"font-bold text-xl md:text-2xl",children:"Fast Services 4U"})}),(0,r.jsxs)("nav",{className:"hidden md:flex items-center space-x-6",children:[(0,r.jsxs)("div",{className:"relative nav-item group",children:[(0,r.jsxs)("button",{className:"nav-link flex items-center gap-1",children:["Services ",(0,r.jsx)(a.Z,{size:16})]}),(0,r.jsx)(h,{categories:v})]}),(0,r.jsx)(i.default,{href:"/about",className:"nav-link",children:"About Us"}),(0,r.jsx)(i.default,{href:"/contact",className:"nav-link",children:"Contact"})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,r.jsxs)("button",{onClick:()=>window.location.href="tel:+971123456789",className:"flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition duration-200",children:[(0,r.jsx)(c.Z,{size:18}),(0,r.jsx)("span",{children:"+971 12 345 6789"})]}),x&&m?(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>u(!s),className:"flex items-center gap-2 px-3 py-2 text-gray-700 hover:text-primary transition-colors",children:[(0,r.jsx)(o.Z,{size:18}),(0,r.jsx)("span",{children:m.name}),(0,r.jsx)(a.Z,{size:16})]}),s&&(0,r.jsx)("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white border border-gray-200 rounded-md shadow-lg",children:(0,r.jsxs)("div",{className:"py-1",children:[(0,r.jsx)(i.default,{href:"/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>u(!1),children:"Profile"}),(0,r.jsx)(i.default,{href:"/bookings",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>u(!1),children:"My Bookings"}),(0,r.jsxs)("button",{onClick:()=>{g(),u(!1)},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-2",children:[(0,r.jsx)(l.Z,{size:16}),"Logout"]})]})})]}):(0,r.jsx)(i.default,{href:"/customer-login",className:"nav-link",children:"Login"})]}),(0,r.jsxs)("div",{className:"flex items-center md:hidden space-x-2",children:[(0,r.jsxs)("button",{onClick:()=>window.location.href="tel:+971123456789",className:"flex items-center gap-1 px-3 py-2 bg-primary text-white rounded-md",children:[(0,r.jsx)(c.Z,{size:18}),(0,r.jsx)("span",{className:"text-sm",children:"Call"})]}),(0,r.jsx)("button",{onClick:b,className:"p-2 hover:text-primary focus:outline-none",children:(0,r.jsx)(d,{size:24})})]})]})}),(0,r.jsx)(f,{isOpen:e,onClose:b,categories:v})]})}},4603:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return c},a:function(){return o}});var r=s(7437),n=s(2265),i=s(1837);let a=(0,n.createContext)(void 0);function c(e){let{children:t}=e,[s,c]=(0,n.useState)(null),[o,l]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{let e=i.I.getToken();if(e)try{i.h.setToken(e);let t=await i.h.getProfile();c(t)}catch(e){console.error("Failed to get user profile:",e),i.I.logout()}l(!1)})()},[]);let u=async(e,t)=>{try{let s=await i.I.login(e,t);c(s.user)}catch(e){throw e}},d=async e=>{try{let t=await i.I.register(e);c(t.user)}catch(e){throw e}};return(0,r.jsx)(a.Provider,{value:{user:s,loading:o,login:u,register:d,logout:()=>{i.I.logout(),c(null)},isAuthenticated:!!s},children:t})}function o(){let e=(0,n.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9458:function(e,t,s){"use strict";s.d(t,{L:function(){return i}});var r=s(2265),n=s(1837);function i(){let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(!0),[a,c]=(0,r.useState)(null),o=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{(async()=>{if(!o.current)try{i(!0),o.current=!0;let e=await n.h.getCategories();t(e),c(null)}catch(e){c(e instanceof Error?e.message:"Failed to fetch categories"),o.current=!1}finally{i(!1)}})()},[]),{categories:e,loading:s,error:a}}},1837:function(e,t,s){"use strict";s.d(t,{I:function(){return i},h:function(){return n}});class r{setToken(e){this.token=e,localStorage.setItem("auth_token",e)}removeToken(){this.token=null,localStorage.removeItem("auth_token")}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="".concat(this.baseURL).concat(e),r={"Content-Type":"application/json",...t.headers};this.token&&(r.Authorization="Bearer ".concat(this.token));let n=await fetch(s,{...t,headers:r});if(!n.ok)throw Error((await n.json().catch(()=>({message:"An error occurred"}))).message||"HTTP ".concat(n.status));return n.json()}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify(e)})}async login(e){return this.request("/auth/login",{method:"POST",body:JSON.stringify(e)})}async getProfile(){return this.request("/auth/profile",{method:"POST"})}async getUsers(){return this.request("/users")}async updateUser(e,t){return this.request("/users/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteUser(e){return this.request("/users/".concat(e),{method:"DELETE"})}async getCategories(){return this.request("/categories")}async getCategoriesHierarchy(){return this.request("/categories/hierarchy")}async getCategoryBySlug(e){return this.request("/categories/slug/".concat(e))}async createCategory(e){return this.request("/categories",{method:"POST",body:JSON.stringify(e)})}async updateCategory(e,t){return this.request("/categories/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteCategory(e){return this.request("/categories/".concat(e),{method:"DELETE"})}async seedCategories(){return this.request("/categories/seed")}async getServices(e){return this.request("/services".concat(e?"?categoryId=".concat(e):""))}async getFeaturedServices(){return this.request("/services/featured")}async getPopularServices(){return this.request("/services/popular")}async getServicesByCategory(e){return this.request("/services/category/".concat(e))}async getService(e){return this.request("/services/".concat(e))}async createService(e){return this.request("/services",{method:"POST",body:JSON.stringify(e)})}async updateService(e,t){return this.request("/services/".concat(e),{method:"PATCH",body:JSON.stringify(t)})}async deleteService(e){return this.request("/services/".concat(e),{method:"DELETE"})}async seedServices(){return this.request("/services/seed")}async createBooking(e){return this.request("/bookings",{method:"POST",body:JSON.stringify(e)})}async getBookings(){return this.request("/bookings")}async getAllBookings(){return this.request("/bookings?all=true")}async getBooking(e){return this.request("/bookings/".concat(e))}async updateBookingStatus(e,t){return this.request("/bookings/".concat(e,"/status"),{method:"PATCH",body:JSON.stringify({status:t})})}async deleteBooking(e){return this.request("/bookings/".concat(e),{method:"DELETE"})}async getReviews(e){return this.request("/reviews".concat(e?"?serviceId=".concat(e):""))}async deleteReview(e){return this.request("/reviews/".concat(e),{method:"DELETE"})}async createContact(e){return this.request("/contact",{method:"POST",body:JSON.stringify(e)})}async getContacts(){return this.request("/contact")}async markContactAsRead(e){return this.request("/contact/".concat(e,"/read"),{method:"PATCH"})}async deleteContact(e){return this.request("/contact/".concat(e),{method:"DELETE"})}async getDashboardStats(){return this.request("/dashboard/stats")}async getDashboardActivity(){return this.request("/dashboard/activity")}async search(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[s,r]=e;null!=r&&t.append(s,r.toString())}),this.request("/search?".concat(t.toString()))}async getSearchFilters(){return this.request("/search/filters")}async getSearchSuggestions(e){return this.request("/search/suggestions?q=".concat(encodeURIComponent(e)))}async getPopularSearches(){return this.request("/search/popular")}constructor(e){this.token=null,this.baseURL=e,this.token=localStorage.getItem("auth_token")}}let n=new r("http://localhost:3001/test/api"),i={login:async(e,t)=>{let s=await n.login({email:e,password:t});return n.setToken(s.access_token),s},register:async e=>{let t=await n.register(e);return n.setToken(t.access_token),t},logout:()=>{n.removeToken()},getToken:()=>localStorage.getItem("auth_token"),isAuthenticated:()=>!!i.getToken()}},6783:function(){},2778:function(){}},function(e){e.O(0,[427,451,971,117,744],function(){return e(e.s=8662)}),_N_E=e.O()}]);