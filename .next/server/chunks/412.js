"use strict";exports.id=412,exports.ids=[412],exports.modules={1292:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]])},7358:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},4659:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3734:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(6557).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},384:(e,t,a)=>{a.d(t,{Z:()=>n});var s=a(326),r=a(7577),l=a(4659),d=a(4019),i=a(7358),o=a(8069);let n=({isOpen:e,onClose:t,serviceName:a})=>{let[n,m]=(0,r.useState)({name:"",mobile:"",address:"",date:"",message:""}),[c,u]=(0,r.useState)({}),[b,x]=(0,r.useState)(!1),[h,y]=(0,r.useState)(!1);if(!e)return null;let p=()=>{let e={};n.name.trim()?n.name.trim().length<2&&(e.name="Name must be at least 2 characters"):e.name="Name is required",n.mobile.trim()?/^(?:\+971|00971|0)?(?:50|51|52|55|56|58|2|3|4|6|7|9)\d{7}$/.test(n.mobile.trim())||(e.mobile="Please enter a valid UAE mobile number"):e.mobile="Mobile number is required",n.address.trim()?n.address.trim().length<10&&(e.address="Please enter a complete address"):e.address="Address is required";let t=new Date(n.date),a=new Date;return a.setHours(0,0,0,0),n.date?t<a&&(e.date="Please select a future date"):e.date="Date is required",u(e),0===Object.keys(e).length},g=e=>{let{id:t,value:a}=e.target;m(e=>({...e,[t]:a})),c[t]&&u(e=>({...e,[t]:void 0}))},f=async e=>{if(e.preventDefault(),p()){x(!0);try{await o.h.createBooking({serviceName:a,name:n.name,mobile:n.mobile,address:n.address,date:n.date,message:n.message||void 0}),y(!0),setTimeout(()=>{m({name:"",mobile:"",address:"",date:"",message:""}),y(!1),t()},2e3)}catch(e){console.error("Booking failed:",e),alert("Failed to create booking. Please try again.")}finally{x(!1)}}},j=()=>{b||(t(),y(!1))};return h?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:j}),s.jsx("div",{className:"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md bg-white rounded-lg shadow-xl z-50 p-6",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(l.Z,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:"Booking Confirmed!"}),(0,s.jsxs)("p",{className:"text-gray-600 mb-4",children:["Your booking for ",a," has been successfully submitted. We'll contact you soon to confirm the details."]}),s.jsx("button",{onClick:j,className:"px-6 py-2 bg-primary text-white rounded-md hover:bg-primary/90 transition-colors",children:"Close"})]})})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:j}),(0,s.jsxs)("div",{className:"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md bg-white rounded-lg shadow-xl z-50 p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Book Now"}),s.jsx("button",{onClick:j,disabled:b,className:"text-gray-500 hover:text-gray-700 transition-colors disabled:opacity-50",children:s.jsx(d.Z,{size:24})})]}),(0,s.jsxs)("p",{className:"text-gray-600 mb-6",children:["Booking for: ",a]}),(0,s.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),s.jsx("input",{type:"text",id:"name",value:n.name,onChange:g,disabled:b,className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-primary/50 focus:border-primary disabled:opacity-50 ${c.name?"border-red-500":"border-gray-300"}`}),c.name&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.name})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"mobile",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile Number"}),s.jsx("input",{type:"tel",id:"mobile",value:n.mobile,onChange:g,disabled:b,placeholder:"+971 XX XXX XXXX",className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-primary/50 focus:border-primary disabled:opacity-50 ${c.mobile?"border-red-500":"border-gray-300"}`}),c.mobile&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.mobile})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),s.jsx("textarea",{id:"address",value:n.address,onChange:g,disabled:b,rows:2,className:`w-full px-4 py-2 border rounded-md focus:ring-2 focus:ring-primary/50 focus:border-primary disabled:opacity-50 ${c.address?"border-red-500":"border-gray-300"}`}),c.address&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.address})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Preferred Date"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:"date",id:"date",value:n.date,onChange:g,disabled:b,min:new Date().toISOString().split("T")[0],className:`w-full px-4 py-2 pr-10 border rounded-md focus:ring-2 focus:ring-primary/50 focus:border-primary appearance-none disabled:opacity-50 ${c.date?"border-red-500":"border-gray-300"}`,style:{colorScheme:"light"}}),s.jsx(i.Z,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none",size:18})]}),c.date&&s.jsx("p",{className:"mt-1 text-sm text-red-500",children:c.date})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message (Optional)"}),s.jsx("textarea",{id:"message",value:n.message,onChange:g,disabled:b,rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary/50 focus:border-primary disabled:opacity-50"})]}),s.jsx("button",{type:"submit",disabled:b,className:"w-full bg-primary text-white py-2.5 rounded-md hover:bg-primary/90 transition duration-200 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Submitting...":"Submit Booking"})]})]})]})}},4786:(e,t,a)=>{a.d(t,{G2:()=>d,Su:()=>l});var s=a(7577),r=a(8069);function l(e){let[t,a]=(0,s.useState)([]),[l,d]=(0,s.useState)(!0),[i,o]=(0,s.useState)(null),n=(0,s.useRef)(null);return{services:t,loading:l,error:i,refetch:async()=>{n.current=null;let t=e||"all";try{d(!0),n.current=t;let s=await r.h.getServices(e);a(s),o(null)}catch(e){o(e instanceof Error?e.message:"Failed to fetch services"),n.current=null}finally{d(!1)}}}}function d(e){let[t,a]=(0,s.useState)(null),[r,l]=(0,s.useState)(!0),[d,i]=(0,s.useState)(null);return(0,s.useRef)(null),{service:t,loading:r,error:d}}}};