(()=>{var e={};e.id=797,e.ids=[797],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6837:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>g,tree:()=>c}),s(4856),s(4306),s(5866);var a=s(3191),t=s(8716),i=s(7922),l=s.n(i),n=s(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(r,o);let c=["",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4856)),"/home/lucifer/Desktop/Workspace/MirApps/FastServices/project_3/home/ubuntu/js/project_3/src/app/search/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4306)),"/home/lucifer/Desktop/Workspace/MirApps/FastServices/project_3/home/ubuntu/js/project_3/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/home/lucifer/Desktop/Workspace/MirApps/FastServices/project_3/home/ubuntu/js/project_3/src/app/search/page.tsx"],m="/search/page",u={require:s,loadChunk:()=>Promise.resolve()},g=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/search/page",pathname:"/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2936:(e,r,s)=>{Promise.resolve().then(s.bind(s,1648))},5047:(e,r,s)=>{"use strict";var a=s(7389);s.o(a,"notFound")&&s.d(r,{notFound:function(){return a.notFound}}),s.o(a,"usePathname")&&s.d(r,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(r,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(r,{useSearchParams:function(){return a.useSearchParams}})},1648:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>x});var a=s(326),t=s(7577),i=s(5047);let l=(0,s(6557).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var n=s(8307),o=s(924),c=s(9389),d=s(3734),m=s(4638),u=s(384),g=s(434);function p(){let e=(0,i.useSearchParams)(),{results:r,loading:s,error:p,search:x}=(0,m.R)(),[h,b]=(0,t.useState)("grid"),[y,j]=(0,t.useState)(!1),[v,f]=(0,t.useState)(""),[N,w]=(0,t.useState)({query:e.get("query")||"",category:e.get("category")||"",minRating:e.get("minRating")?Number(e.get("minRating")):void 0,maxPrice:e.get("maxPrice")?Number(e.get("maxPrice")):void 0,sortBy:e.get("sortBy")||"relevance",sortOrder:e.get("sortOrder")||"desc",page:e.get("page")?Number(e.get("page")):1,limit:12}),P=(e,r)=>{w(s=>({...s,[e]:r,page:1}))},S=e=>{w(r=>({...r,page:e}))},k=e=>{f(e),j(!0)};return s&&!r?a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsx("div",{className:"container-custom",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-8"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,r)=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[a.jsx("div",{className:"h-48 bg-gray-200 rounded mb-4"}),a.jsx("div",{className:"h-6 bg-gray-200 rounded mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),a.jsx("div",{className:"h-10 bg-gray-200 rounded"})]},r))})]})})}):p?a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsx("div",{className:"container-custom",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Search Error"}),a.jsx("p",{className:"text-gray-600",children:p})]})})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8",children:[(0,a.jsxs)("div",{className:"container-custom",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:N.query?`Search Results for "${N.query}"`:"All Services"}),r&&(0,a.jsxs)("p",{className:"text-gray-600",children:["Found ",r.pagination.total," services",N.query&&` matching "${N.query}"`]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 sticky top-8",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[a.jsx(l,{size:20}),"Filters"]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{type:"text",value:N.query,onChange:e=>P("query",e.target.value),placeholder:"Search services...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary/50 focus:border-primary"}),a.jsx(n.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Minimum Rating"}),(0,a.jsxs)("select",{value:N.minRating||"",onChange:e=>P("minRating",e.target.value?Number(e.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary/50 focus:border-primary",children:[a.jsx("option",{value:"",children:"Any Rating"}),a.jsx("option",{value:"4.5",children:"4.5+ Stars"}),a.jsx("option",{value:"4",children:"4+ Stars"}),a.jsx("option",{value:"3.5",children:"3.5+ Stars"}),a.jsx("option",{value:"3",children:"3+ Stars"})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Price (AED)"}),a.jsx("input",{type:"number",value:N.maxPrice||"",onChange:e=>P("maxPrice",e.target.value?Number(e.target.value):void 0),placeholder:"Enter max price",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary/50 focus:border-primary"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),(0,a.jsxs)("select",{value:N.sortBy,onChange:e=>P("sortBy",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-primary/50 focus:border-primary",children:[a.jsx("option",{value:"relevance",children:"Most Relevant"}),a.jsx("option",{value:"rating",children:"Highest Rated"}),a.jsx("option",{value:"popularity",children:"Most Popular"}),a.jsx("option",{value:"price",children:"Price"}),a.jsx("option",{value:"newest",children:"Newest"}),a.jsx("option",{value:"name",children:"Name"})]})]})]})}),(0,a.jsxs)("div",{className:"lg:col-span-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>b("grid"),className:`p-2 rounded-md ${"grid"===h?"bg-primary text-white":"bg-gray-200 text-gray-600"}`,children:a.jsx(o.Z,{size:20})}),a.jsx("button",{onClick:()=>b("list"),className:`p-2 rounded-md ${"list"===h?"bg-primary text-white":"bg-gray-200 text-gray-600"}`,children:a.jsx(c.Z,{size:20})})]}),r&&(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Showing ",(r.pagination.page-1)*r.pagination.limit+1,"-",Math.min(r.pagination.page*r.pagination.limit,r.pagination.total)," of ",r.pagination.total," results"]})]}),r&&r.services.length>0?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"grid"===h?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-6",children:r.services.map(e=>(0,a.jsxs)("div",{className:`bg-white rounded-lg shadow-sm border border-gray-100 hover:border-primary/20 transition-all duration-300 ${"list"===h?"flex gap-6":""}`,children:[a.jsx(g.default,{href:`/services/${e.id}`,className:`block ${"list"===h?"flex-shrink-0":""}`,children:a.jsx("div",{className:`relative ${"list"===h?"w-48 h-32":"h-48"}`,children:a.jsx("img",{src:e.image,alt:e.title,className:`w-full h-full object-cover ${"list"===h?"rounded-l-lg":"rounded-t-lg"}`})})}),(0,a.jsxs)("div",{className:`p-6 ${"list"===h?"flex-1":""}`,children:[(0,a.jsxs)(g.default,{href:`/services/${e.id}`,children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2 hover:text-primary transition-colors",children:e.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center text-yellow-400",children:[a.jsx(d.Z,{size:16,fill:"currentColor"}),a.jsx("span",{className:"ml-1 text-gray-800 font-medium",children:e.rating})]}),(0,a.jsxs)("span",{className:"text-gray-500",children:["(",e.reviewCount," reviews)"]})]}),a.jsx("div",{className:"text-lg font-bold text-primary mb-4",children:e.price})]}),a.jsx("button",{onClick:()=>k(e.title),className:"w-full bg-primary text-white py-2.5 rounded-md hover:bg-primary/90 transition duration-200",children:"Book Now"})]})]},e.id))}),r.pagination.totalPages>1&&(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-8",children:[a.jsx("button",{onClick:()=>S(r.pagination.page-1),disabled:!r.pagination.hasPrev,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),[...Array(r.pagination.totalPages)].map((e,s)=>{let t=s+1;return a.jsx("button",{onClick:()=>S(t),className:`px-4 py-2 border rounded-md ${t===r.pagination.page?"bg-primary text-white border-primary":"border-gray-300 hover:bg-gray-50"}`,children:t},t)}),a.jsx("button",{onClick:()=>S(r.pagination.page+1),disabled:!r.pagination.hasNext,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No services found"}),a.jsx("p",{className:"text-gray-600",children:"Try adjusting your search criteria or browse our categories."})]})]})]})]}),a.jsx(u.Z,{isOpen:y,onClose:()=>j(!1),serviceName:v})]})}function x(){return a.jsx(t.Suspense,{fallback:a.jsx("div",{children:"Loading search..."}),children:a.jsx(p,{})})}},4638:(e,r,s)=>{"use strict";s.d(r,{R:()=>i,f:()=>l});var a=s(7577),t=s(8069);function i(){let[e,r]=(0,a.useState)(null),[s,i]=(0,a.useState)(!1),[l,n]=(0,a.useState)(null);return{results:e,loading:s,error:l,search:(0,a.useCallback)(async e=>{try{i(!0),n(null);let s=await t.h.search(e);r(s)}catch(e){n(e instanceof Error?e.message:"Search failed")}finally{i(!1)}},[])}}function l(){let[e,r]=(0,a.useState)([]),[s,i]=(0,a.useState)(!1);return{suggestions:e,loading:s,getSuggestions:(0,a.useCallback)(async e=>{if(!e||e.length<2){r([]);return}try{i(!0);let s=await t.h.getSearchSuggestions(e);r(s.suggestions)}catch(e){console.error("Failed to get suggestions:",e),r([])}finally{i(!1)}},[])}}},4856:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`/home/lucifer/Desktop/Workspace/MirApps/FastServices/project_3/home/ubuntu/js/project_3/src/app/search/page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),a=r.X(0,[615,130,351],()=>s(6837));module.exports=a})();